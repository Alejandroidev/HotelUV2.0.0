using AutoMapper;using MediatR;using ReservaHotel.Application.CustomerInteractions.Commands;using ReservaHotel.Application.Interfaces.General;using ReservaHotel.Domain.Entities;using ReservaHotel.Domain.Entities.Base;namespace ReservaHotel.Application.CustomerInteractions.Handlers{ public class CreateCustomerInteractionHandler: IRequestHandler<CreateCustomerInteractionCommand, CustomWebResponse>{ private readonly IRepository<CustomerInteraction> _repo; private readonly IMapper _mapper; public CreateCustomerInteractionHandler(IRepository<CustomerInteraction> repo, IMapper mapper){ _repo=repo; _mapper=mapper;} public async Task<CustomWebResponse> Handle(CreateCustomerInteractionCommand request, CancellationToken ct){ var entity=_mapper.Map<CustomerInteraction>(request.CustomerInteraction); await _repo.AddAsync(entity, ct); return new CustomWebResponse{ ResponseBody=_mapper.Map<Application.Common.Dtos.CustomerInteractionDto>(entity)}; } } }