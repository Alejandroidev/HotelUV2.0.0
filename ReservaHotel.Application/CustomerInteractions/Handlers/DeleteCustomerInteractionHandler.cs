using MediatR;using ReservaHotel.Application.CustomerInteractions.Commands;using ReservaHotel.Application.CustomerInteractions.Specifications;using ReservaHotel.Application.Interfaces.General;using ReservaHotel.Domain.Entities;using ReservaHotel.Domain.Entities.Base;using System.Net;namespace ReservaHotel.Application.CustomerInteractions.Handlers{ public class DeleteCustomerInteractionHandler: IRequestHandler<DeleteCustomerInteractionCommand, CustomWebResponse>{ private readonly IRepository<CustomerInteraction> _repo; public DeleteCustomerInteractionHandler(IRepository<CustomerInteraction> repo){ _repo=repo;} public async Task<CustomWebResponse> Handle(DeleteCustomerInteractionCommand request, CancellationToken ct){ var spec=new CustomerInteractionByIdSpec(request.Id); var entity= await _repo.FirstOrDefaultAsync(spec, ct); if(entity==null) return new CustomWebResponse(true){ StatusCode=HttpStatusCode.NotFound, Message="CustomerInteraction not found"}; await _repo.DeleteAsync(entity, ct); return new CustomWebResponse{ ResponseBody=request.Id}; } } }