using AutoMapper;using MediatR;using ReservaHotel.Application.PqrCases.Queries;using ReservaHotel.Application.Interfaces.General;using ReservaHotel.Domain.Entities;using ReservaHotel.Domain.Entities.Base;namespace ReservaHotel.Application.PqrCases.Handlers{ public class GetPqrCasesHandler: IRequestHandler<GetPqrCasesQuery, CustomWebResponse>{ private readonly IReadRepository<PqrCase> _repo; private readonly IMapper _mapper; public GetPqrCasesHandler(IReadRepository<PqrCase> repo, IMapper mapper){ _repo=repo; _mapper=mapper;} public async Task<CustomWebResponse> Handle(GetPqrCasesQuery request, CancellationToken ct){ var list= await _repo.ListAsync(ct); var dto=_mapper.Map<List<Application.Common.Dtos.PqrCaseDto>>(list); return new CustomWebResponse{ ResponseBody=dto}; } } }